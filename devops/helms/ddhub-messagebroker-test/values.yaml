# Default values for messagebroker.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
ddhub-messagebroker:
  replicaCount: 2

  messagebroker:
    config:
      port: 9000
      natsClusterUrl: nats://ddhub-test-nats-dsb-nats.ddhub-test.svc:4222
      withSwagger: "true"
      webUrl: https://volta-rpc-vkn5r5zx4ke71f9hcu0c.energyweb.org/
      cacheServerUrl: https://identitycache-dev.energyweb.org/v1
      jwt_issuer: "ddhub-test.energyweb.org"
      context_url: "ddhub-test.energyweb.org"

  image:
    # repository: 098061033856.dkr.ecr.us-east-1.amazonaws.com/ew-dos-dsb-ecr
    repository: aemocontainerregistry.azurecr.io/ddhub-messagebroker
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    # version 0.1.0 with forming mongo connection string change
    tag: "1.1.0"

  imagePullSecrets: []
  nameOverride: "ddhub-messagebroker-test"
  fullnameOverride: "ddhub-messagebroker-test"

  sealedSecret:
    enabled: true
    annotations: {}
    encryptedData: 
      NATS_MAX_CLIENT_ID: AgBqalazowDwxa/A2UH0r7mfb56+TXJFsWb4sgIZHISx2zrAVeMo+rS6KbAFhaQv/JtOfEPoZ6CKmg4X2Bwt8/J6RpmucvEi2ncBLhMhKcDMj4bQBHm75N5PZeHRRKX06Og5a/W8aXtAt/nSASaSoT3GWTe0tQ8qMqCihKIYVRgJwTfZp9J10ynTVWrsKEyfMzAevOfkqFDZa06hmL2H42i81mcOwDLE0GuJXUv0lbrhc8wCot1OJQMzMVesvLnpU7Rbf+uBtQPS0pfE+B7TGCtuVZB2wD5iZh1pKjWvWIgnJzILhXZySJr3cKCxj/t8RZ8iatvYf123cihCekWDxaq+zn3QGhL8s8YQgP0tDe1kIs9zsPc43Q2DiLNmkDkhIKi46fenoN35GCfO577qBbPhXJ7GNOnuLqYnc6m5VejfjC9cpnbAdsoF75vX9My0IJZvLE+qXy2lskcAsHZ71thEYHCEzzTfXyzlJnafBZx5H7SxslfAN0vqMSO7JMxXi2pNjcQn85zMLtZi5BEON0Z5PrjywJOuDt8QHWl9W3May9nhpZ12F+KZeuyGs+MMmYRdT93kbFetNNYqPhk/Yo7sSJRbsuWq3dnNiV4Dw7EhsiYCvTyNVN7E71GXwjZrlqpb5eBplJslfJzh1EL7P2F/g5d6hHhtb8NOTa9KRhgCVgLrcM6/gOj9jlTxsFp7D5ZxX9W7
      BLOB_CONTAINER_NAME: AgCeOIUCXom+lZifvQ9p6SIaVH/zf67x/8a3od6quGt6Mr68exG12TAN8vi+Jas4AMqiwjeeNNhYHA6d2ca/Py+G7QtksWEh00gRqCX/NaDnveFLP5NEpuPIJEWY05lyHh7whn3aDNFGMtUm6AHU8SApbcBulX+720QDCtC6IHE5WM3hUjllmQzSpMHIK+8S56lnamj6QIlbP+BL8rbWkq4Fuu+sLeg8Snq776AnP7urMYfocWbdtToOh7H09xgSfXjzq6G6srUjePVibKcOBsMXtA0mSLbJtF3BrvHWLcHZVgH0RYaQ0n5kMeu+z7jCa3bt1tA4W6dSZVbH6CIIM5ERVFhKrz3JOuBtFrCsgA4nNYqjiA0O+k/VqPOQFcd8P6wNRJ/7zzrvPS46Cd4tQEauZq7MbD4l4uV8KONfxjCkvV0FSMBoExwO/g0KKl1SIpFApxEVh59mHQrUqP1w+YyJTNY+BOGnFkay6egXkiIfKYgjpcTumjXTxp9uWjZ0DcOfOLQHKXe1d+iikiGFQTHwVjbkzlsH7ujESy9HVjC3eYe6BR0XSfybZlosFCbGanrP4Go2IgS+Ga9YFxPdBAN4UlmAuCX4aSKsw5XH7/1B4+bEI1UvZPGJZlNyjP+q6e/l8DzVuQcpZScghEymNQ41geP1UWE1yb1LJImoOJQTnhbwK8rDzqKjfGQJM0kwGJXBFPNDRxv8iFfk
      BLOB_STORAGE_ACCESS_KEY: AgCJU8lqYeZwrQgkB49hRtyvfn8c41CcXonBDPsDbZdAt3x22X+ZgZJRbxbqemOc45pkp3Epi+vKYrBEva0NZM+WBBCNzEkgoQYBQNbJr1FbU5lEWGjz4+sssZ7UStn1A8nS1iap8IFHRX/QezfRQ6J1BrvT/R2QBFLpGSdvwAaupROIgteHZNeqNqPuvdqLdh+GJRp+WjPsd7HSFjVNtq1C7LSME8dUnLwzubednw0H0zv5lbCXSrZ5bmgge1MKsC7kyS2nDI2T2w8ND4JlSUZaotnZs78+1UszCSZFgch4NqKMkFZtKmNU7E0xLvBtgembfh0XioThIABE6i7Aw3pac5bkdnVsmxLwoh46D4IYI88ioBPlWEkkNTj7kMAKj2NntV2F6v0WZZwGz2Or/q1eS2MW5m05lUwxo9Ornszkwm5v4mpCQIbQRsBUPNc7/0HF7tLwsThY7356suR19E9lBO9AxG9VhdMQNUk7Y+t64PccWFd5obuYwoXegmSgVzS8++9vy0i0IcSMlkRIaCctHZWh2g02f1uzksxjoTKmP1JW3rMzbiarTn6wgMs2nMr02OVifbfJAdQVu9xVxBpCCWxK8piw5+dfIn7CetE1drzAALR52eSlvhLEMyWnlBcE16a5ysYTvHlgn935FSUaaR48s34l631J+PMnLja9ifnMi5iLcOa0bhvM10zHRZAGXDSmHeayTM8sX1ECoMLcl262KJm3fTYbF47kA7noVDtBhvBINtl5rM2xRepMXBhdbAcwJBvYvLciKqDrtbRcH/om652OBj+I1v5hl//TUeJ9SlGauB3Q
      BLOB_STORAGE_ACCOUNT_NAME: AgC3RsM3SJzvJz98eK3+THYh680W1kxuU/GTdEgPCdIrSOUMfv5weBI9hiuB6IAoWsncAF1E9W7JUzOdvo2MFgHqRsroMe4PYZ/96m67/Dz9HAQIFd8Wy67wqIqHc6wxcQtHfwEO5iaReGVWxWrsvQDaz94lAF7C2gjVBs9Z12QT09V3vVtXKBifmBop9dxq10McDXS4BTvnzttpS0/QoLfsNV5Ej5FAtLx9emoVsoTVtAjddXs3d8eAAjbHNcyd1OVVt3H7G/uyfudxyKcnG/B9JFs2pmx6dbHK0GIKohR/noFm53Cm47aNERDSTFX1P2xUB8fghOlWl0FamWVhSY4RTJmhbIs+PUqpjTIHPtYoEVa36JVIF+/ZpdLIH1jAI2UgjsGpgDtLC3+k6+RCZM6ngQj3yOfxlDW6fvsvfRN4zX4GSWTv8w0Idbeog0aACDJf67OUEIkoG6AM1s172/bAhn3uMhNMRwz46vehVhyEoxLZCrwME9hrzJ7LoigwfTDjBRam9AslVnsW4FZx6N2UZyHPMBBVtMWTHCNsuc1lOHdfuDZbSfkwcc8ii39XduvElxmnoSFGGRlPcTo2VbIKluDXFLpgSaNm7tl77qok4lPfQ35/yMXn9R9CmF8UNqDppczKqb44PAS6K0YCqlXL+zxj0d3NjQwqjzH70l9r0I/m1qBGOudd2Q76F/5TnpZQgY7zkzhy3AsZ3CahmWUpTo6e
      JWT_SECRET: AgATdXQCIVNTpFR59UiAx72t9yjaM4P14ItiRkxi4KsPKNiGcZGVtRFF1VdFmgO7Aazt8S/iGqa8rC7iiHBtnQDuQ97nCMMOHN8s6tRZ+TsX586+/8JfiRg7nx4rFsb4PuJayST/sDcZ+p0WnoU90S/fcwaoA9Pu6OFYp5t31bNAd2DSQToqXJvidVav8oY4tA4kfr+TjY3STPOU1pKjcRgIYiPyHOyxCd8wevWrLS1hTAsk+B8Kj4KC0hPeH6jd8nr3aw1CELG5lgo9Ss/IfDWcGayDM1591+pY8I+uuNLBlrsj/49JSerE7H0HjwsF2Vnwgk5gRepC5b1KzG7qJZpsrQYD/FuyhHaIq91zZ/uf3TYZxR3Yf/cRJor1cc5jKzS89WT+vdg5OE2a5NXq5O71lb32dJexNIx5TOQpQZnsfIsZ6R1IPcjbUBluXdISiGb0PgKN7tor/qBQHpORbMezSHxDNXa+5p7UXb8f5p8GceTbaULpbGQUKzDR/Ra8YZO746PNU+7cJ0YST/SL9/kUQv52yp9paYF3sFcbOxRVMjxsLd66Vlk5rSdhUKmKjiuR/9VnnYsXroLMaADYbgDN3oKXYe4CC7WaF/wnkT88KM5dCua692z5zQ6Hh4V29mLVwBz6RCk+tTDbneMdWvXaTHm57vWh3GTmryqpieSZYXtT46lAwxqrpwV8gjZhg2AyiXxcsyzpntDg0g==
      MONGODB_DB_NAME: AgCffMN736TLEC7nwjyL3f9s90HNMI1ON/yXwtUc6HG/bFsXVK+QITvpMupx1czE+tCahrn7rliq5A8Cm1dk8mohTwn602ZcvPqi9USdoN3xvMDmNubzOxKWQFj+sVEBQvcivCCmvAsqLP7US5Gtf68Aate4O1y1u/XByMq6zXc3sw0x/SndE7D7CgOq4vbbmaqKcR7Yuv4t3hkAF+161QoejQFRCnLa8mu5jJZmYKM50j8GXNZ1oO1DaXUzUgNvTaksDM783baUfDdGBh/rWA90jKpF9g6eMFR+4qbWYHukUYt0PYJ59aGgDj4M6smbeHnScTC9aRkwCwzZpwEqQKK9blUE6BrLvtYMtLExgSHZm4wNS4pacHLsecGWm3sWg+m+uBmLWMkGOurZgOSEvMTWu45yE1d1PVnWnm1sSWFbvCkyTRWJCkq6Odq2bhnX87hT29YyzToA7f174WnDSSjx+JZF2VLtRKDsFqEYDwKrlPHB0aprrCl7GsDRa4In3AWIcNDxitBqRdc6UhSK2z/ToRPTguIY/M2uj3m0Vj2+WlOjFJd2R4FTT+4BgkFaxnnKFJUtbBRUVvOP+YU/njhQmgkApDLozfWu7w9mDq5MXSgAAO1Ri9g7Z4Q93nkHdBQCDaPxPepWTP2iGHI+TY38pWEJP94LGjw6T8jRxUpzE5iJ2M7VwGDRJiIMDQ45/z5brPQ5hKM3hvc=
      MONGODB_QUERY: AgAApvIW1aa9e+KjpYUGqwu3SkzYMRCM7yfKOjnBa88YlkWGxMdqdx43mnhtfu0T4UdGc5Co9hVMZCL7HDQ1MNHThRjeF1a5IR2Duqf9iEojdV6fzM9GIBau9LSfgv6p1zIp+RIIoRO6Zi0W5MMUQOqtKUdfwg0b5e17fjQilKJcPn54E1/yucUzOmc2SkOx7d+iRgyceCd158KdbuvulBB8nLi2xHDKHDX0NRAfB/cHfi7ja0mn7ZkMuJKhvcnZF8G48wc/hyiVgxVB7/LBg5WGMyP0xAkNupNEQxh0DH4hs0FHZuthx3l3upRTPTTpqjCcwZyoPTSAvDcIJmwlPS0rP6fgpjqouTC0ZbXSfBwY45LlxHwAOTV/AgBzIqYk/GQKf9kGox3z3iPcQ97wuf/zHujXirX9eeTvF4fae6bIa0S6vBtWBpBkVvIBMe5WQ16i/tSeEgoSNPk+W2HCkQ4fvO/IAQCO5Chej94Pw26tVsKgRY4jECjYa7a9iVstHCteCUvdnFZW8QGd0KNrAYxGZolMjvGZiUOO2t1UEiueJ9xOvPEN/pAuNJ+lUNeEL509M8c0Dvjzm+ODwX6TKwD6XHZqaF7LT5fvB5X5CwRPIg1kaebK9PrvKiyIkJ0NMpCdGIPSW40IrpD0KD8xhfHVwWLkdWs1QGgEmfYSvxHU12ljLUH7wUycP5lYcLsffEheimQSoAK/V3hNl1mc6jcuvLJAQ5QU75hs6GeER8TkeoajRTUd0Y3qRrROJlppknL+OmBWEOACIpQKIBx/BeunsIXsUDfq08H2
      MONGODB_USER_NAME: AgCffMN736TLEC7nwjyL3f9s90HNMI1ON/yXwtUc6HG/bFsXVK+QITvpMupx1czE+tCahrn7rliq5A8Cm1dk8mohTwn602ZcvPqi9USdoN3xvMDmNubzOxKWQFj+sVEBQvcivCCmvAsqLP7US5Gtf68Aate4O1y1u/XByMq6zXc3sw0x/SndE7D7CgOq4vbbmaqKcR7Yuv4t3hkAF+161QoejQFRCnLa8mu5jJZmYKM50j8GXNZ1oO1DaXUzUgNvTaksDM783baUfDdGBh/rWA90jKpF9g6eMFR+4qbWYHukUYt0PYJ59aGgDj4M6smbeHnScTC9aRkwCwzZpwEqQKK9blUE6BrLvtYMtLExgSHZm4wNS4pacHLsecGWm3sWg+m+uBmLWMkGOurZgOSEvMTWu45yE1d1PVnWnm1sSWFbvCkyTRWJCkq6Odq2bhnX87hT29YyzToA7f174WnDSSjx+JZF2VLtRKDsFqEYDwKrlPHB0aprrCl7GsDRa4In3AWIcNDxitBqRdc6UhSK2z/ToRPTguIY/M2uj3m0Vj2+WlOjFJd2R4FTT+4BgkFaxnnKFJUtbBRUVvOP+YU/njhQmgkApDLozfWu7w9mDq5MXSgAAO1Ri9g7Z4Q93nkHdBQCDaPxPepWTP2iGHI+TY38pWEJP94LGjw6T8jRxUpzE5iJ2M7VwGDRJiIMDQ45/z5brPQ5hKM3hvc=
      MONGODB_USER_PWD: AgDTN+wun2juI1l/7tY43l7p0uII/jiV1H7sulwI4QwlC2wU7KB8lXh0/0yaMvEMmZyXFXojPCEsBxx7nrRHHOd7yeKY7RONYArTzFy3p2NaMLxbNPlSufYDxGakmJXPC3yQQhmdy3EcstP4GK0f7Ry3+d3x0wcWlqDzhuMfBp/rxxlguK2uiasdLRyp9JMpXSB0TpuNAEvM3cBoGULo9wRELJ+bFF3kBH/nX6yVo9NDMN6VEDQdX8AL7nWpagyEuHROnNvtA31oi/wIScz35wRPSYiUlzEeJT0KfUx+AYbyGjRZ7/meP7EHo9WISvUsg3yl/msBYSYvwMy8NPUmsKj2f2Uj8V2Qa80vAw0b0fPUjCyUm4KrPjixXuiJfi+rAwHHWyAiY0WQf+kJmloR+S1zyiADj0HvMADZ463va9Nmr62EE3fEgmvIJj7ZXSD8FuNmbI14NgrplS4SEeCUmEm2zuct24TgvY5uoBXDgcpQK11hsHcfOhUVQ9EJQHOWmdsbmW2fjVY9FBCBBIpDA7VA2967wdcjYX1hgv00ZrRO8rlxlMVnjmpVk54r4DKi61Kq1NOZwWkZPY7YBDFugKCxNqDVexG0jZFCWe5dJyQop8Sza1RqxN74Ylm43wY73cg3rP1fRLTrZaHoqt9LhPjIZ8g4b5bovXyX/D81Cjklr4kDJ+FsMqq+yfw+Rz20MESlxq286mpYBjHueQ/khD3wldCBS/ton+B6RKtqlD4v
      PRIVATE_KEY: AgATdXQCIVNTpFR59UiAx72t9yjaM4P14ItiRkxi4KsPKNiGcZGVtRFF1VdFmgO7Aazt8S/iGqa8rC7iiHBtnQDuQ97nCMMOHN8s6tRZ+TsX586+/8JfiRg7nx4rFsb4PuJayST/sDcZ+p0WnoU90S/fcwaoA9Pu6OFYp5t31bNAd2DSQToqXJvidVav8oY4tA4kfr+TjY3STPOU1pKjcRgIYiPyHOyxCd8wevWrLS1hTAsk+B8Kj4KC0hPeH6jd8nr3aw1CELG5lgo9Ss/IfDWcGayDM1591+pY8I+uuNLBlrsj/49JSerE7H0HjwsF2Vnwgk5gRepC5b1KzG7qJZpsrQYD/FuyhHaIq91zZ/uf3TYZxR3Yf/cRJor1cc5jKzS89WT+vdg5OE2a5NXq5O71lb32dJexNIx5TOQpQZnsfIsZ6R1IPcjbUBluXdISiGb0PgKN7tor/qBQHpORbMezSHxDNXa+5p7UXb8f5p8GceTbaULpbGQUKzDR/Ra8YZO746PNU+7cJ0YST/SL9/kUQv52yp9paYF3sFcbOxRVMjxsLd66Vlk5rSdhUKmKjiuR/9VnnYsXroLMaADYbgDN3oKXYe4CC7WaF/wnkT88KM5dCua692z5zQ6Hh4V29mLVwBz6RCk+tTDbneMdWvXaTHm57vWh3GTmryqpieSZYXtT46lAwxqrpwV8gjZhg2AyiXxcsyzpntDg0g==
      MONGODB_POOL_SIZE_MAX: AgB79lsQhxnlgdUX20lyv7DjK7rwVHSmKgpVxgRw2KZ9igmt/oJinUACt9q/D+wTirIBcc18IKadt1u5pHEbh4+hQcTj/oaLoppq6wY5f7f+RP/nD7PXTXEF1J7jFW3Q9hvfgk6XsbmuKqroyTpL3RCTfRRR5tUU2ZYJeT7uLYiAfJHxnH9qJzaDYyspxGsQB2EoXp0LMaoa0CElp+LqTZWHcj3uWvWB2Qk4Fe5gJNMMGgdRwde8wUoaF1r8IXYpexOVWwxAK43qP6KYjtlcDj0I6VR7lgnNDHoCy4XPnynJV+Fu+ZovGgd7nPn599zG4622jDMVz9R1WOamA41GJlflr74QjYB7/qsMyuUIi0mFL0qYCp+DJMcTipJd4joXTNPP7HrR5ZKuLzWnyTRhlltl8a+iEnn9BlBn1o3MBxHEmoNZ4BaLUqR0/3F0m7fKYA4uaWQ7y1aeH99wKoX/o1z6ybp0jR5EwQXzn82JpKQomKi8bSMHekI7JMKfDC+F4Lxb5gGtS6I4CFrye747aGaHyXHl9x8wLN0M3jhtX6vx09HoH4Qmj0jwnozfy+A8mPebL38rX0oZA2ciK2TTpW2kz60B2iNvf0JV8Oyqzbci1BsYbwlNUFzi68kY7BvLxScwLPCLde59QULSWP3Nfgf/yJjX7q7JR0bqKXGQLprDiUWiQF0PoUZgSD0tSEG9xTMC
      MONGODB_POOL_SIZE_MIN: AgBwD4W84d/+RcyDqyud83auI74n4mweNUwlRyM75o1OrGKkXOs1yIVtlPx+7XzVlnjdFU2pYZLqSegBwnmcvfgnH39xmpWSTssdpi0Qau7lAn1VC5C345faJ0H6SMoMCzrETF/wWtbsL20AhWp1lVBJyhi1xQzzz/B0v7cNKGPYOoPqaaAg5EDAndPEYz1RbbvyTEtFC3Cspal58EdLbXWkAj0lai9EGG0PpCXmU5NiMStrLvdO/JcrqIJ/FsR0NVhw1Mjbvi6DrKx01gHfRS9AJjL4o5XQo8HKILr/vZ/hOdwHeSDmTIEXWoBLpI0IwUqXlaT7rETHHn2sggzTe5prSCvn4XLJv+qHICI8+KG2P5vKYf4+rYqRM0wWMcVC/Z7h30cCpboJ5zctQHvCqdE4fi3DqJEOaxCL9jqt4sgTynaD8trdT0pI0hAHbEZvui9h36QDV3Nn+XTZ/M7Kz2JCLv9WZyrUWVti34dgJLOehc9TydG6rvwOPex45l2bCNJKCZk97MBjPTnJwp5KJyHYlIp5luPeD9mjFsoSsXNqCzny2LFZSpcibpKOKZCraluTU9XHdaWSO7mJqhPXcvIJmYRLXAcsllXgsOkrbxL/HfAE88j+Og7Q2NVOZtJQzCWyiCddlSpVOQlfQxPR7hmOPCFLJUIgS7O7azmwmBOnlKo9nalq8Bn/4VhW9Vx1tp7C
      # 2 hrs nats message expries
      NATS_MAX_AGE: AgAn7QqOKpmf2uQhZyoOwsrCIDMItLtOscCCEqX7khBlCjMJns2CdiKVVXAjF8RfBN+mr9YCp+wuBOXrBj91hTYcDvvyPYNzMav6iNU2tz/gCxvhjl51yPGf24lOJ/mrAdJagWeh9qKWAqiaOuyf9UJLlkVKY6vGU+yWWKTZnmTAOC2KwGHFAn3zLJJZ3FZixp+mD+E0/00BGTMpSCmI93t3MZYREoE3FgWL0JnUrgo7zh2KeQsH/1/RW/n6DV3wqjetR9Qeq9/lhi4ejuLpzabvqYZTtzPCHt4e3IlHYu6ErehTejYzLBNd2jQ1amAQPfsaTlCpohv4HmV7wjF3K5cRnN+FqWIqShP3JOZuooJU+T6FKmZ5SKC3Kv74aWEvfDGLM254UbuKLC3jlRf65NUe+W050QlzcE/JWcJT3YcIWSllnXbfE5gLS2BduQGP2auAL8yYofJVED+c3ORCBf3AHJg63suOHq8knbQrQ7rkT2/92gb/S0Q4vlleiNIyt7tP55JyowePdfvR/I3wdsRlQuDmobuV46pnIyMZMXJRI3Vq6OxuLKvtL3urj96sm3QBrfea0AS+I8jCqFDGbv5OeuwuqDuPOWsqbd6dEO/6o0CT27pZkcQG2u0vB5cg1MwpFV71Lio8bVFF8oTLsfpHwZEuQ1H47jYctAjGrigzzPOXSmmgpCDsY99/wVoEi+6hdrH4xsj2MA==

  resources:
    limits:
      cpu: 800m
      memory: 1.2Gi
    requests:
      cpu: 600m
      memory: 1Gi

  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 6
    targetCPUUtilizationPercentage: 60

  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchExpressions:
          - key: "app.kubernetes.io/name"
            operator: In
            values:
            - ddhub-messagebroker-test
        topologyKey: "kubernetes.io/hostname"